<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>gitStore</title>
  <link rel="stylesheet" href="style.css">
</head>
<body>
  <!-- –ú–∞—Ç—Ä–∏—Ü–∞-—Ñ–æ–Ω -->
  <canvas id="matrix"></canvas>

  <header>
    <h1>gitStore</h1>
    <p>–ú–∞–≥–∞–∑–∏–Ω APK –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–π –Ω–∞ GitHub Pages üöÄ</p>
  </header>

  <main class="grid" id="apps-container">
    <!-- –ö–∞—Ä—Ç–æ—á–∫–∏ –±—É–¥—É—Ç –ø–æ–¥–≥—Ä—É–∂–∞—Ç—å—Å—è –∏–∑ apps.json -->
  </main>

  <footer>
    <p>¬© 2025 gitStore</p>
  </footer>

  <!-- –ü–æ–¥–≥—Ä—É–∑–∫–∞ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–π -->
  <script>
    async function loadApps() {
      try {
        const response = await fetch("apps.json");
        const apps = await response.json();
        const container = document.getElementById("apps-container");

        apps.forEach(app => {
          const card = document.createElement("div");
          card.className = "card";

          // –ï—Å–ª–∏ –Ω–µ—Ç –∏–∫–æ–Ω–∫–∏ ‚Üí —Å—Ç–∞–≤–∏–º 404
          const icon = app.icon && app.icon.trim() !== "" ? app.icon : "images/404.png";

          // –ï—Å–ª–∏ –Ω–µ—Ç —Ñ–∞–π–ª–∞ ‚Üí –∫–Ω–æ–ø–∫–∞ –ù–µ–¥–æ—Å—Ç—É–ø–Ω–æ
          const btn = app.file && app.file.trim() !== "" 
            ? `<a href="${app.file}" class="btn">–°–∫–∞—á–∞—Ç—å</a>`
            : `<span class="btn disabled">–ù–µ–¥–æ—Å—Ç—É–ø–Ω–æ</span>`;

          card.innerHTML = `
            <img src="${icon}" alt="${app.name}" onerror="this.src='images/404.png'">
            <h2>${app.name}</h2>
            <p>${app.desc}</p>
            ${btn}
          `;
          container.appendChild(card);
        });
      } catch (error) {
        console.error("–û—à–∏–±–∫–∞ –∑–∞–≥—Ä—É–∑–∫–∏ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–π:", error);
      }
    }
    loadApps();
  </script>

  <!-- –ú–∞—Ç—Ä–∏—Ü–∞-–∞–Ω–∏–º–∞—Ü–∏—è -->
  <script>
    const canvas = document.getElementById("matrix");
    const ctx = canvas.getContext("2d");

    canvas.height = window.innerHeight;
    canvas.width = window.innerWidth;

    const letters = "01";
    const fontSize = 14;
    const columns = canvas.width / fontSize;
    const drops = Array(Math.floor(columns)).fill(1);

    function draw() {
      ctx.fillStyle = "rgba(0, 0, 0, 0.1)";
      ctx.fillRect(0, 0, canvas.width, canvas.height);

      ctx.fillStyle = "#0f0";
      ctx.font = fontSize + "px monospace";

      for (let i = 0; i < drops.length; i++) {
        const text = letters.charAt(Math.floor(Math.random() * letters.length));
        ctx.fillText(text, i * fontSize, drops[i] * fontSize);

        if (drops[i] * fontSize > canvas.height && Math.random() > 0.975) {
          drops[i] = 0;
        }
        drops[i]++;
      }
    }

    setInterval(draw, 35);

    window.addEventListener("resize", () => {
      canvas.height = window.innerHeight;
      canvas.width = window.innerWidth;
    });
  </script>
</body>
</html>
