<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="UTF-8">
  <title>gitStore ‚Äî –ú–∞–≥–∞–∑–∏–Ω –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–π</title>
  <style>
    body { font-family: monospace; background: #111; color: #eee; }
    .app { border: 1px solid #333; padding: 15px; margin: 10px; display: inline-block; width: 220px; text-align: center; background: #1e1e1e; border-radius: 10px; }
    .app img { width: 80px; height: 80px; border-radius: 10px; }
    .title { font-size: 16px; font-weight: bold; margin: 10px 0; }
    button { background: #4CAF50; color: white; border: none; padding: 6px 12px; border-radius: 5px; cursor: pointer; }
    button:hover { background: #45a049; }
    #terminal { display: none; background: black; color: lime; padding: 15px; margin: 20px auto; width: 500px; border-radius: 8px; font-family: monospace; }
    input { background: black; color: lime; border: none; width: 100%; outline: none; }
  </style>
</head>
<body>
  <h1>gitStore üöÄ</h1>
  <div id="apps"></div>

  <div id="terminal">
    <div id="term-output">–í–≤–µ–¥–∏—Ç–µ –∫–æ–º–∞–Ω–¥—É –¥–ª—è –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏—è:<br></div>
    <input id="term-input" type="text" placeholder="git clone com.example.app">
  </div>

  <script>
    let selectedApp = null;

    // –ó–∞–≥—Ä—É–∂–∞–µ–º —Å–ø–∏—Å–æ–∫ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–π
    fetch("apps.json")
      .then(r => r.json())
      .then(data => {
        let container = document.getElementById("apps");
        data.apps.forEach(app => {
          container.innerHTML += `
            <div class="app">
              <img src="${app.icon}" alt="${app.name}">
              <div class="title">${app.name}</div>
              <div>–í–µ—Ä—Å–∏—è: ${app.version}</div>
              <button onclick="confirmDownload('${app.package}', '${app.apk}')">–°–∫–∞—á–∞—Ç—å</button>
            </div>
          `;
        });
      });

    function confirmDownload(pkg, link) {
      selectedApp = { pkg, link };
      document.getElementById("terminal").style.display = "block";
      document.getElementById("term-output").innerHTML = `–í–≤–µ–¥–∏—Ç–µ –∫–æ–º–∞–Ω–¥—É –¥–ª—è –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏—è:<br>git clone ${pkg}`;
    }

    document.getElementById("term-input").addEventListener("keydown", function(e) {
      if (e.key === "Enter" && selectedApp) {
        if (this.value.trim() === `git clone ${selectedApp.pkg}`) {
          window.location.href = selectedApp.link;
          document.getElementById("term-output").innerHTML += `<br>‚úî –ö–ª–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ ${selectedApp.pkg}...<br>–ó–∞–≥—Ä—É–∑–∫–∞ APK –Ω–∞—á–∞–ª–∞—Å—å.`;
        } else {
          document.getElementById("term-output").innerHTML += `<br>‚ùå –û—à–∏–±–∫–∞: –∫–æ–º–∞–Ω–¥–∞ –Ω–µ–≤–µ—Ä–Ω–∞—è.`;
        }
        this.value = "";
      }
    });
  </script>
</body>
</html>
